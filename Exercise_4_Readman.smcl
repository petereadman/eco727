{smcl}
{com}{sf}{ul off}{txt}{.-}
      name:  {res}results
       {txt}log:  {res}/Users/peterreadman/Dropbox/@10,000 feet and Runway/MA in Economics at Hunter/ECO 727 - Data Analysis and Research Methods/Analysis/Exercise_4_Readman.smcl
  {txt}log type:  {res}smcl
 {txt}opened on:  {res}12 Jan 2025, 07:55:53
{txt}
{com}. set scheme s2color
{txt}
{com}. global ex=4
{txt}
{com}. global lname="Readman"
{txt}
{com}. global eyear=2024
{txt}
{com}. global emonth=11
{txt}
{com}. 
. * part a: using the merged CPS-ORG/CPI data from exercise 3
. 
.   use "../Data/CPS-ORG with CPI, 1982-2024.dta", replace
{txt}
{com}.   run data_check
{txt}
{com}.   keep if earnweek!=.
{txt}(8,796 observations deleted)

{com}.   generate experience=age-grade-6
{txt}
{com}.   generate exp2=experience^2
{txt}
{com}.   generate lrwage=log(rwage)
{txt}
{com}.   describe

{txt}Contains data from {res}../Data/CPS-ORG with CPI, 1982-2024.dta
{txt} Observations:{res}     6,729,292                  
{txt}    Variables:{res}            27                  12 Jan 2025 06:46
{txt}{hline}
Variable      Storage   Display    Value
    name         type    format    label      Variable label
{hline}
{p 0 48}{res}{bind:year           }{txt}{bind: int     }{bind:%8.0g     }{space 1}{bind:         }{bind:  }{res}{res}survey year{p_end}
{p 0 48}{bind:month          }{txt}{bind: byte    }{bind:%8.0g     }{space 1}{bind:MONTH    }{bind:  }{res}{res}month{p_end}
{p 0 48}{bind:mish           }{txt}{bind: byte    }{bind:%8.0g     }{space 1}{bind:MISH     }{bind:  }{res}{res}month in sample, household level{p_end}
{p 0 48}{bind:region         }{txt}{bind: byte    }{bind:%8.0g     }{space 1}{bind:REGION   }{bind:  }{res}{res}region and division{p_end}
{p 0 48}{bind:cpsidv         }{txt}{bind: double  }{bind:%12.0g    }{space 1}{bind:         }{bind:  }{res}{res}validated longitudinal identifier{p_end}
{p 0 48}{bind:age            }{txt}{bind: byte    }{bind:%8.0g     }{space 1}{bind:AGE      }{bind:  }{res}{res}age{p_end}
{p 0 48}{bind:female         }{txt}{bind: byte    }{bind:%9.0g     }{space 1}{bind:FEMALE   }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:race           }{txt}{bind: int     }{bind:%58.0g    }{space 1}{bind:RACE     }{bind:  }{res}{res}race{p_end}
{p 0 48}{bind:empstat        }{txt}{bind: byte    }{bind:%8.0g     }{space 1}{bind:EMPSTAT  }{bind:  }{res}{res}employment status{p_end}
{p 0 48}{bind:classwkr       }{txt}{bind: byte    }{bind:%8.0g     }{space 1}{bind:CLASSWKR }{bind:  }{res}{res}class of worker{p_end}
{p 0 48}{bind:uhrswork1      }{txt}{bind: int     }{bind:%8.0g     }{space 1}{txt}UHRSWORK1{p_end}
{p 0 48}{space 44}{bind:  }{res}{res}hours usually worked per week at main job{p_end}
{p 0 48}{bind:grade          }{txt}{bind: float   }{bind:%9.0g     }{space 1}{bind:         }{bind:  }{res}{res}highest grade completed{p_end}
{p 0 48}{bind:earnwt         }{txt}{bind: double  }{bind:%12.0g    }{space 1}{bind:         }{bind:  }{res}{res}earnings weight{p_end}
{p 0 48}{bind:qearnwee       }{txt}{bind: byte    }{bind:%8.0g     }{space 1}{bind:QEARNWEE }{bind:  }{res}{res}data quality flag for earnweek{p_end}
{p 0 48}{bind:hourwage       }{txt}{bind: double  }{bind:%12.0g    }{space 1}{bind:HOURWAGE }{bind:  }{res}{res}hourly wage{p_end}
{p 0 48}{bind:paidhour       }{txt}{bind: byte    }{bind:%15.0g    }{space 1}{bind:PAIDHOUR }{bind:  }{res}{res}paid by the hour{p_end}
{p 0 48}{bind:union          }{txt}{bind: byte    }{bind:%8.0g     }{space 1}{bind:UNION    }{bind:  }{res}{res}union membership{p_end}
{p 0 48}{bind:earnweek       }{txt}{bind: double  }{bind:%12.0g    }{space 1}{bind:EARNWEEK }{bind:  }{res}{res}weekly earnings{p_end}
{p 0 48}{bind:uhrsworkorg    }{txt}{bind: byte    }{bind:%8.0g     }{space 1}{bind:         }{bind:  }{res}{res}usual hours worked per week, outgoing rotation groups{p_end}
{p 0 48}{bind:occupation     }{txt}{bind: byte    }{bind:%32.0g    }{space 1}{txt}OCCUPATION{p_end}
{p 0 48}{space 44}{bind:  }{res}{res}occupation (1-10){p_end}
{p 0 48}{bind:industry       }{txt}{bind: byte    }{bind:%49.0g    }{space 1}{bind:INDUSTRY }{bind:  }{res}{res}industry (1-11){p_end}
{p 0 48}{bind:topcode        }{txt}{bind: byte    }{bind:%9.0g     }{space 1}{bind:         }{bind:  }{res}{res}topcode indicator{p_end}
{p 0 48}{bind:cpi            }{txt}{bind: double  }{bind:%9.3f     }{space 1}{bind:         }{bind:  }{res}{res}Consumer Price Index{p_end}
{p 0 48}{bind:rwage          }{txt}{bind: float   }{bind:%9.0g     }{space 1}{bind:         }{bind:  }{res}{res}real wage in November 2024 dollars{p_end}
{p 0 48}{bind:experience     }{txt}{bind: float   }{bind:%9.0g     }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:exp2           }{txt}{bind: float   }{bind:%9.0g     }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{p 0 48}{bind:lrwage         }{txt}{bind: float   }{bind:%9.0g     }{space 1}{bind:         }{bind:  }{res}{res}{p_end}
{txt}{hline}
Sorted by: 
     Note: {res}Dataset has changed since last saved.
{txt}
{com}.   summarize

{txt}    Variable {c |}        Obs        Mean    Std. dev.       Min        Max
{hline 13}{c +}{hline 57}
{space 8}year {c |}{res}  6,729,292    2002.063    12.11066       1982       2024
{txt}{space 7}month {c |}{res}  6,729,292    6.505453    3.450088          1         12
{txt}{space 8}mish {c |}{res}  6,729,292    6.003577    1.999997          4          8
{txt}{space 6}region {c |}{res}  6,729,292    27.35368    10.74257         11         42
{txt}{space 6}cpsidv {c |}{res}  6,729,292    2.00e+14    1.21e+12   1.98e+14   2.02e+14
{txt}{hline 13}{c +}{hline 57}
{space 9}age {c |}{res}  6,729,292    39.04153    12.23378         18         64
{txt}{space 6}female {c |}{res}  6,729,292    .4876748    .4998481          0          1
{txt}{space 8}race {c |}{res}  6,729,292    141.8078    129.5748        100        700
{txt}{space 5}empstat {c |}{res}  6,729,292    10.08309    .3990931         10         12
{txt}{space 4}classwkr {c |}{res}  6,729,292    22.68018    2.122125         13         28
{txt}{hline 13}{c +}{hline 57}
{space 3}uhrswork1 {c |}{res}  6,729,292    77.99931    189.3173          0        997
{txt}{space 7}grade {c |}{res}  6,729,292    13.49349    2.614413          0         18
{txt}{space 6}earnwt {c |}{res}  6,729,292    8651.746    5092.891      90.01   209103.1
{txt}{space 4}qearnwee {c |}{res}  4,430,098    1.274549    1.863792          0          4
{txt}{space 4}hourwage {c |}{res}  3,957,015    12.89979    8.767525        .01      99.99
{txt}{hline 13}{c +}{hline 57}
{space 4}paidhour {c |}{res}  6,729,292    .5881335    .4921712          0          1
{txt}{space 7}union {c |}{res}  6,508,582    1.172378    .4200006          1          3
{txt}{space 4}earnweek {c |}{res}  6,729,292    711.5078    709.6453        .01      11960
{txt}{space 1}uhrsworkorg {c |}{res}  2,913,775    36.77645    9.982502          1         99
{txt}{space 2}occupation {c |}{res}  6,729,292    3.936843    2.597344          1          9
{txt}{hline 13}{c +}{hline 57}
{space 4}industry {c |}{res}  6,729,292    6.976071    2.776758          1         11
{txt}{space 5}topcode {c |}{res}  6,729,292    .0223624    .1478591          0          1
{txt}{space 9}cpi {c |}{res}  6,729,292    184.1522    56.17688       94.3    315.664
{txt}{space 7}rwage {c |}{res}  6,729,292    1187.022    992.6475   .0104871   11986.48
{txt}{space 2}experience {c |}{res}  6,729,292    19.54804    12.37304         -6         58
{txt}{hline 13}{c +}{hline 57}
{space 8}exp2 {c |}{res}  6,729,292     535.218    542.8229          0       3364
{txt}{space 6}lrwage {c |}{res}  6,729,292    6.797184     .796826  -4.557612   9.391535
{txt}
{com}.   
.   *label new variables
. 
. * part b: estimating a simple log-wage regression
.   regress lwage grade experience exp2, [ppw=earnwt]
{err}variable {bf}lwage{sf} not found
{txt}{search r(111), local:r(111);}

end of do-file

{search r(111), local:r(111);}

{com}. do /var/folders/h0/wxw40lrj64j6l30lq749x76r0000gn/T/StataRun1736686571475.do
{txt}
{com}.   regress lrwage grade experience exp2, [ppw=earnwt]
{err}option {bf:[} not allowed
{txt}{search r(198), local:r(198);}

end of do-file

{search r(198), local:r(198);}

{com}. do /var/folders/h0/wxw40lrj64j6l30lq749x76r0000gn/T/StataRun1736686589978.do
{txt}
{com}.   regress lrwage grade experience exp2 [ppw=earnwt]
{err}ppw unknown weight type
{txt}{search r(198), local:r(198);}

end of do-file

{search r(198), local:r(198);}

{com}. do /var/folders/h0/wxw40lrj64j6l30lq749x76r0000gn/T/StataRun1736686596634.do
{txt}
{com}.   regress lrwage grade experience exp2 [pw=earnwt]
{txt}(sum of wgt is 58,220,128,431.12)

Linear regression                               Number of obs     = {res} 6,729,292
                                                {txt}F(3, 6729288)     >  {res} 99999.00
                                                {txt}Prob > F          = {res}    0.0000
                                                {txt}R-squared         = {res}    0.2347
                                                {txt}Root MSE          =    {res} .70152

{txt}{hline 13}{c TT}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}
{col 14}{c |}{col 26}    Robust
{col 1}      lrwage{col 14}{c |} Coefficient{col 26}  std. err.{col 38}      t{col 46}   P>|t|{col 54}     [95% con{col 67}f. interval]
{hline 13}{c +}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}
{space 7}grade {c |}{col 14}{res}{space 2}  .115417{col 26}{space 2} .0001322{col 37}{space 1}  872.97{col 46}{space 3}0.000{col 54}{space 4} .1151579{col 67}{space 3} .1156761
{txt}{space 2}experience {c |}{col 14}{res}{space 2} .0572108{col 26}{space 2} .0000976{col 37}{space 1}  585.90{col 46}{space 3}0.000{col 54}{space 4} .0570194{col 67}{space 3} .0574022
{txt}{space 8}exp2 {c |}{col 14}{res}{space 2}-.0009916{col 26}{space 2} 2.29e-06{col 37}{space 1} -433.81{col 46}{space 3}0.000{col 54}{space 4} -.000996{col 67}{space 3}-.0009871
{txt}{space 7}_cons {c |}{col 14}{res}{space 2}  4.66554{col 26}{space 2} .0019926{col 37}{space 1} 2341.47{col 46}{space 3}0.000{col 54}{space 4} 4.661635{col 67}{space 3} 4.669446
{txt}{hline 13}{c BT}{hline 11}{hline 11}{hline 9}{hline 8}{hline 13}{hline 12}
{res}{txt}
{com}. 
{txt}end of do-file

{com}. do /var/folders/h0/wxw40lrj64j6l30lq749x76r0000gn/T/StataRun1736686965576.do
{txt}
{com}.   display "The log-wage profile peaks at" , %4.1f -e(b)[1,2]/(2*e(b)[1,3]) , "years of experience."
{res}The log-wage profile peaks at 28.8 years of experience.
{txt}
{com}. 
{txt}end of do-file

{com}. 