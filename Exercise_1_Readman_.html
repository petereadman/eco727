<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>Exercise_1_Readman_</title>
  <style>
    html {
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 12px;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      html {
        background-color: white;
      }
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    svg {
      height: auto;
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, Consolas, 'Lucida Console', monospace;
      font-size: 85%;
      margin: 0;
      hyphens: manual;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
<style>
/* CSS for Markstat 2.0 using Pandoc 2.0 */
body{padding:14px 28px; max-width:45em;}
body, table {font-family: Helvetica, Arial, Sans-serif; font-size: 14px; max-width:70em}
h1, h2, h3, h4 {font-weight: normal; color: #3366cc}
h1 {font-size: 200%;}
h2 {font-size: 150%;}
h3 {font-size: 120%;}
h4 {font-size: 100%; font-weight:bold}
img.center {display:block; margin-left:auto; margin-right:auto}
.small{font-size:8pt;}
a {color: black;}
a:visited {color: #808080;}
a.plain {text-decoration:none;}
a.plain:hover {text-decoration:underline;}
.em {font-weight:bold;}
pre, code {font-family: "lucida console", monospace;}
pre.stata {font-size:13px; line-height:13px;}
pre {padding:8px; border:1px solid #c0c0c0; border-radius:8px; background-color:#fdfdfd;}
code {color:#3366cc; background-color:#fafafa;}
pre code { color:black; background-color:white}
/* Added for Pandoc */
figure > img, div.figure > img {display:block; margin:auto}
figcaption, p.caption {text-align:center; font-weight:bold; color:#3366cc;}
h1.title {text-align:center; margin-bottom:0}
p.author, h2.author {font-style:italic; text-align:center;margin-top:4px;margin-bottom:0}
p.date, h3.date {text-align:center;margin-top:4px; margin-bottom:0}
/* Tables*/
table { margin:auto; border-collapse:collapse; }
table caption { margin-bottom:1ex;}
td {padding:0 0 0 0} /* override */
table:not([class]) th { padding:4px 6px } 
table:not([class]) td { padding:4px 6px } 
table:not([class]) thead tr:first-child th {border-top:1px solid black; padding-top:6px}
table:not([class]) thead tr:last-child  th {padding-bottom:6px}
table:not([class]) tbody tr:first-child td {border-top:1px solid black; padding-top:6px}
table:not([class]) tbody tr:last-child  td {padding-bottom:6px;}
table:not([class]) tbody:last-child tr:last-child td {border-bottom:1px solid black;}
</style>
</head>
<body>
<h2
id="exercise-1-exploring-and-cleaning-cps-monthly-data-1982-2024">Exercise
1: Exploring and Cleaning CPS Monthly Data (1982-2024)</h2>
<p>Peter Readman</p>
<hr />
<h3 id="plan">Plan</h3>
<hr />
<ul>
<li>read the CPS monthly data for 1982-2024 into Stata,</li>
<li>verify and retain the correct rotation groups (4 and 8)</li>
<li>describe, summarize, and inspect the data structure,</li>
<li>tabulate variables to identify inconsistencies or coding changes
over time.</li>
</ul>
<hr />
<h3 id="using-the-data">Using the data</h3>
<p>First, let’s move to the analysis folder.</p>
<pre class='stata'>. cd "~/Dropbox/@10,000 feet and Runway/MA in Economics at Hunter/ECO 727 - Data Analysis and Research Methods/Analysis"
/Users/peterreadman/Dropbox/@10,000 feet and Runway/MA in Economics at Hunter/ECO 727 - Data Analysis and Research Methods/Analysis
</pre>
<p>Now let’s read the cps data extract, which is in Stata format, from
IPUMS. The file is cps_00003.dta, which is in the Data folder (at the
same level as Analysis). The two dots move us up one level (i.e., to
Research Methods), and /data move us from there down to the Data
folder.</p>
<pre class='stata'>. use "../Data/cps_00003.dta", clear
</pre>
<hr />
<h3
id="identifying-and-retaining-correct-rotation-groups-4-and-8">Identifying
and Retaining Correct Rotation Groups (4 and 8)</h3>
<p>Let’s start by examining the rotation groups.</p>
<pre class='stata'>. tab1 mish eligorg labforce, missing

-> tabulation of mish  

   month in │
    sample, │
  household │
      level │      Freq.     Percent        Cum.
────────────┼───────────────────────────────────
        one │     82,939        1.15        1.15
        two │     83,727        1.16        2.30
      three │     83,525        1.15        3.46
       four │  3,363,104       46.45       49.91
       five │     83,941        1.16       51.07
        six │     84,009        1.16       52.23
      seven │     83,888        1.16       53.38
      eight │  3,374,984       46.62      100.00
────────────┼───────────────────────────────────
      Total │  7,240,117      100.00

-> tabulation of eligorg  

  (earnings) │
 eligibility │
        flag │      Freq.     Percent        Cum.
─────────────┼───────────────────────────────────
    eligible │  7,240,117      100.00      100.00
─────────────┼───────────────────────────────────
       Total │  7,240,117      100.00

-> tabulation of labforce  

        labor force status │      Freq.     Percent        Cum.
───────────────────────────┼───────────────────────────────────
   yes, in the labor force │  7,240,117      100.00      100.00
───────────────────────────┼───────────────────────────────────
                     Total │  7,240,117      100.00

. tab year mish, missing

    survey │                            month in sample, household level
      year │       one        two      three       four       five        six      seven      eight │     Total
───────────┼────────────────────────────────────────────────────────────────────────────────────────┼──────────
      1982 │    82,939     83,727     83,525     83,073     83,941     84,009     83,888     83,577 │   668,679 
      1983 │         0          0          0     82,847          0          0          0     82,328 │   165,175 
      1984 │         0          0          0     84,024          0          0          0     84,427 │   168,451 
      1985 │         0          0          0     85,677          0          0          0     85,937 │   171,614 
      1986 │         0          0          0     85,364          0          0          0     84,902 │   170,266 
      1987 │         0          0          0     85,933          0          0          0     85,314 │   171,247 
      1988 │         0          0          0     82,486          0          0          0     81,688 │   164,174 
      1989 │         0          0          0     85,005          0          0          0     82,607 │   167,612 
      1990 │         0          0          0     87,933          0          0          0     88,322 │   176,255 
      1991 │         0          0          0     84,910          0          0          0     86,386 │   171,296 
      1992 │         0          0          0     84,005          0          0          0     84,955 │   168,960 
      1993 │         0          0          0     83,048          0          0          0     83,666 │   166,714 
      1994 │         0          0          0     80,859          0          0          0     81,886 │   162,745 
      1995 │         0          0          0     82,098          0          0          0     80,163 │   162,261 
      1996 │         0          0          0     72,756          0          0          0     72,047 │   144,803 
      1997 │         0          0          0     74,062          0          0          0     73,478 │   147,540 
      1998 │         0          0          0     75,479          0          0          0     73,799 │   149,278 
      1999 │         0          0          0     76,217          0          0          0     75,254 │   151,471 
      2000 │         0          0          0     75,486          0          0          0     77,589 │   153,075 
      2001 │         0          0          0     83,410          0          0          0     84,441 │   167,851 
      2002 │         0          0          0     87,679          0          0          0     87,359 │   175,038 
      2003 │         0          0          0     85,437          0          0          0     86,424 │   171,861 
      2004 │         0          0          0     83,213          0          0          0     85,661 │   168,874 
      2005 │         0          0          0     84,851          0          0          0     85,076 │   169,927 
      2006 │         0          0          0     84,134          0          0          0     85,062 │   169,196 
      2007 │         0          0          0     83,854          0          0          0     83,597 │   167,451 
      2008 │         0          0          0     82,106          0          0          0     83,248 │   165,354 
      2009 │         0          0          0     80,293          0          0          0     80,272 │   160,565 
      2010 │         0          0          0     79,180          0          0          0     79,733 │   158,913 
      2011 │         0          0          0     78,145          0          0          0     78,997 │   157,142 
      2012 │         0          0          0     78,282          0          0          0     78,110 │   156,392 
      2013 │         0          0          0     77,952          0          0          0     77,763 │   155,715 
      2014 │         0          0          0     78,159          0          0          0     78,352 │   156,511 
      2015 │         0          0          0     77,184          0          0          0     77,301 │   154,485 
      2016 │         0          0          0     77,872          0          0          0     76,595 │   154,467 
      2017 │         0          0          0     75,203          0          0          0     76,871 │   152,074 
      2018 │         0          0          0     73,586          0          0          0     74,611 │   148,197 
      2019 │         0          0          0     70,823          0          0          0     72,072 │   142,895 
      2020 │         0          0          0     59,303          0          0          0     63,750 │   123,053 
      2021 │         0          0          0     60,528          0          0          0     62,901 │   123,429 
      2022 │         0          0          0     59,478          0          0          0     59,448 │   118,926 
      2023 │         0          0          0     58,393          0          0          0     56,591 │   114,984 
      2024 │         0          0          0     52,777          0          0          0     52,424 │   105,201 
───────────┼────────────────────────────────────────────────────────────────────────────────────────┼──────────
     Total │    82,939     83,727     83,525  3,363,104     83,941     84,009     83,888  3,374,984 │ 7,240,117 
</pre>
<p>Groups 1, 2, 3, 5, and 6 appear in 1982. These groups don’t belong in
the data because they aren’t part of the CPS’s 4-8-4 rotation scheme.
So, we should drop the incorrect groups (i.e. keep groups 4 and 8):</p>
<pre class='stata'>. keep if mish == 4 | mish == 8
(502,029 observations deleted)
</pre>
<p>Next, let’s tabulate month and mish to confirm the new structure of
the data after dropping those three variables.</p>
<pre class='stata'>. tabulate month mish

           │   month in sample,
           │    household level
     month │      four      eight │     Total
───────────┼──────────────────────┼──────────
   january │   280,233    281,580 │   561,813 
  february │   281,379    281,195 │   562,574 
     march │   278,366    278,404 │   556,770 
     april │   279,376    278,929 │   558,305 
       may │   278,246    277,937 │   556,183 
      june │   281,616    281,554 │   563,170 
      july │   280,926    283,511 │   564,437 
    august │   280,667    282,891 │   563,558 
 september │   279,948    282,115 │   562,063 
   october │   283,463    285,375 │   568,838 
  november │   282,701    283,948 │   566,649 
  december │   276,183    277,545 │   553,728 
───────────┼──────────────────────┼──────────
     Total │ 3,363,104  3,374,984 │ 6,738,088 
</pre>
<p>We have the correct rotations and can move on to looking at the data
in more detail.</p>
<hr />
<h3 id="describing-summarizing-and-listing-the-data">Describing,
Summarizing, and Listing the data</h3>
<pre class='stata'>. describe

Contains data from ../Data/cps_00003.dta
 Observations:     6,738,088                  
    Variables:            32                  03 JAN 2025 16:42
─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
Variable      Storage   Display    Value
    name         type    format    label      Variable label
─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
year            int     %8.0g                 survey year
serial          long    %12.0g                household serial number
month           byte    %8.0g      MONTH      month
hwtfinl         double  %12.0g                household weight, basic monthly
cpsid           double  %12.0g                cpsid, household record
asecflag        byte    %8.0g      ASECFLAG   flag for asec
mish            byte    %8.0g      MISH       month in sample, household level
region          byte    %8.0g      REGION     region and division
pernum          byte    %8.0g                 person number in sample unit
wtfinl          double  %12.0g                final basic weight
cpsidv          double  %12.0g                validated longitudinal identifier
cpsidp          double  %12.0g                cpsid, person record
earnweek2       double  %12.0g     EARNWEEK2
                                              weekly earnings (rounded)
hourwage2       double  %12.0g     HOURWAGE2
                                              hourly wage (rounded)
age             byte    %8.0g      AGE        age
sex             byte    %8.0g      SEX        sex
race            int     %8.0g      RACE       race
empstat         byte    %8.0g      EMPSTAT    employment status
labforce        byte    %8.0g      LABFORCE   labor force status
occ1950         int     %8.0g      OCC1950    occupation, 1950 basis
ind1950         int     %8.0g      IND1950    industry, 1950 basis
classwkr        byte    %8.0g      CLASSWKR   class of worker
uhrswork1       int     %8.0g      UHRSWORK1
                                              hours usually worked per week at main job
educ            int     %8.0g      EDUC       educational attainment recode
earnwt          double  %12.0g                earnings weight
qearnwee        byte    %8.0g      QEARNWEE   data quality flag for earnweek
hourwage        double  %12.0g     HOURWAGE   hourly wage
paidhour        byte    %8.0g      PAIDHOUR   paid by the hour
union           byte    %8.0g      UNION      union membership
earnweek        double  %12.0g     EARNWEEK   weekly earnings
uhrsworkorg     int     %8.0g                 usual hours worked per week, outgoing rotation groups
eligorg         byte    %8.0g      ELIGORG    (earnings) eligibility flag
─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
Sorted by: 
     Note: Dataset has changed since last saved.
</pre>
<p>The data has 6,738,088 observations over 32 variables.</p>
<pre class='stata'>. summarize

    Variable │        Obs        Mean    Std. dev.       Min        Max
─────────────┼─────────────────────────────────────────────────────────
        year │  6,738,088    2002.068    12.10799       1982       2024
      serial │  6,738,088    34874.83    20278.18          1      74625
       month │  6,738,088    6.505521    3.450084          1         12
     hwtfinl │  5,560,511    2223.566    1277.181          0   34716.21
       cpsid │  6,738,088    2.00e+13    1.21e+11   1.98e+13   2.02e+13
─────────────┼─────────────────────────────────────────────────────────
    asecflag │    556,770           2           0          2          2
        mish │  6,738,088    6.003526    1.999997          4          8
      region │  6,738,088    27.35454    10.74259         11         42
      pernum │  6,738,088    1.679193    .9420621          1         22
      wtfinl │  6,738,088    2164.166    1271.501      22.24   34716.21
─────────────┼─────────────────────────────────────────────────────────
      cpsidv │  6,738,088    2.00e+14    1.21e+12   1.98e+14   2.02e+14
      cpsidp │  6,738,088    2.00e+13    1.21e+11   1.98e+13   2.02e+13
   earnweek2 │  6,738,088    1958.853    35654.57          0    1000000
   hourwage2 │  6,738,088    420.1412    485.9802        .05     999.99
         age │  6,738,088    39.04488    12.23483         18         64
─────────────┼─────────────────────────────────────────────────────────
         sex │  6,738,088    1.487791    .4998509          1          2
        race │  6,738,088    142.7038    133.6738        100        830
     empstat │  6,738,088     10.0833    .3995664         10         12
    labforce │  6,738,088           2           0          2          2
     occ1950 │  6,738,088    421.1817    267.7166          0        970
─────────────┼─────────────────────────────────────────────────────────
     ind1950 │  6,738,088    676.7314     222.289        105        936
    classwkr │  6,738,088    22.68014    2.121586         13         28
   uhrswork1 │  6,738,088    78.16546     189.717          0        997
        educ │  6,738,088    86.05168    23.06105          2        125
      earnwt │  6,738,088    8652.169    5093.023      90.01   209103.1
─────────────┼─────────────────────────────────────────────────────────
    qearnwee │  4,437,930    1.275338    1.864099          0          4
    hourwage │  6,545,976    418.8949     485.937        .01     999.99
    paidhour │  6,738,088    1.587672    .4922536          1          2
       union │  6,517,390     1.17223     .419873          0          3
    earnweek │  6,545,976    676.4486    646.6187        .01    9999.99
─────────────┼─────────────────────────────────────────────────────────
 uhrsworkorg │  5,560,511    494.6838    480.6063          1        999
     eligorg │  6,738,088           1           0          1          1
</pre>
<p>There are seven variables with some missing observations: hwtfinl,
asecflag, qearnwee, hourwage, union, earnweek, uhrsworkorg. The date
range is from 1982 to 2024, as expected from our data selection and all
the asecflag observations are 2, indicating ‘march basic’, i.e. not in
the ASEC data and no need to drop them.</p>
<p>Let’s list the values of the variables in the last 10 observations,
listing approximately 10 variables at a time.</p>
<pre class='stata'>. list year serial month hwtfinl cpsid asecflag mish region pernum wtfinl in -10/l, noobs

  ┌───────────────────────────────────────────────────────────────────────────────────────────────────────┐
  │ year   serial      month     hwtfinl         cpsid   asecflag    mish     region   pernum      wtfinl │
  ├───────────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ 2024    69598   november    838.3943   2.02408e+13          .    four    pacific        1    838.3943 │
  │ 2024    69604   november    4287.067   2.02308e+13          .   eight   east nor        1    4287.067 │
  │ 2024    69604   november    4287.067   2.02308e+13          .   eight   east nor        2    4540.372 │
  │ 2024    69607   november   2772.9405   2.02408e+13          .    four   new engl        1   2772.9405 │
  │ 2024    69607   november   2772.9405   2.02408e+13          .    four   new engl        4    4273.887 │
  ├───────────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ 2024    69617   november   7670.1106   2.02308e+13          .   eight   east nor        1   7670.1106 │
  │ 2024    69617   november   7670.1106   2.02308e+13          .   eight   east nor        2   6052.9955 │
  │ 2024    69617   november   7670.1106   2.02308e+13          .   eight   east nor        3   7795.0071 │
  │ 2024    69621   november   8640.0764   2.02308e+13          .   eight   east nor        1   8640.0764 │
  │ 2024    69630   november   4171.2557   2.02408e+13          .    four   east sou        1   4171.2557 │
  └───────────────────────────────────────────────────────────────────────────────────────────────────────┘
</pre>
<p>The last 10 observations show data from November 2024, spanning
multiple regions (e.g., Pacific, East North, New England). Month and
region coding are consistent across observations.</p>
<pre class='stata'>. list cpsidv cpsidp earnweek2 hourwage2 age sex race empstat labforce occ1950 in -10/l, noobs

  ┌───────────────────────────────────────────────────────────────────────────────────────────────────────────┐
  │      cpsidv        cpsidp   earnwe~2   hourwa~2   age      sex       race   empstat   labforce    occ1950 │
  ├───────────────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ 2.02408e+14   2.02408e+13       2440     999.99    31     male      white   at work    yes, in   managers │
  │ 2.02308e+14   2.02308e+13       1050     999.99    37     male      white   at work    yes, in   managers │
  │ 2.02308e+14   2.02308e+13       1850     999.99    34   female      white   at work    yes, in   managers │
  │ 2.02408e+14   2.02408e+13       1200     999.99    57   female      white   at work    yes, in   clerical │
  │ 2.02408e+14   2.02408e+13       3360     999.99    29     male      white   at work    yes, in   engineer │
  ├───────────────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ 2.02308e+14   2.02308e+13        640         16    57   female      black   at work    yes, in    service │
  │ 2.02308e+14   2.02308e+13        408         17    20     male   white-bl   at work    yes, in    service │
  │ 2.02308e+14   2.02308e+13        480         20    30     male   white-bl   at work    yes, in    service │
  │ 2.02308e+14   2.02308e+13        808         17    25   female      black   at work    yes, in   professi │
  │ 2.02408e+14   2.02408e+13        800         20    29   female      black   at work    yes, in   clerical │
  └───────────────────────────────────────────────────────────────────────────────────────────────────────────┘
</pre>
<p>Among the last 10 observations, wages (earnweek2) are reported with
unusually high hourly rates (hourwage2 = 999.99) for some respondents.
These may indicate top-coded or misreported values.</p>
<pre class='stata'>. list ind1950 classwkr uhrswork1 educ earnwt qearnwee hourwage paidhour union earnweek uhrsworkorg in -10/l, noobs  

  ┌──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐
  │  ind1950   classwkr   uhrswo~1       educ       earnwt   qearnwee   hourwage   paidhour      union   earnweek   uhrswo~g │
  ├──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ accounti   private,         40   bachelor    3286.6294   not allo          .         no   no union          .        999 │
  │ eating a   private,         40   bachelor   17089.3593   not allo          .         no   no union          .        999 │
  │ eating a   private,         40   bachelor    18089.269   not allo          .         no   no union          .        999 │
  │ legal se   private,         40   high sch   10877.5911   allocate          .         no   no union          .        999 │
  │ syntheti   private,   hours va   bachelor   17004.6319   allocate          .         no   no union          .        999 │
  ├──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤
  │ miscella   private,         45   associat   28851.0844   not allo          .        yes   member o          .         40 │
  │ eating a   private,         24   high sch   24264.4613   allocate          .        yes   no union          .         24 │
  │ eating a   private,         24   high sch   30525.4348   allocate          .        yes   no union          .         24 │
  │ educatio   private,         40   master's   33516.3721   not allo          .        yes   no union          .         40 │
  │ legal se   private,         40   high sch   16299.3536   allocate          .        yes   no union          .         40 │
  └──────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘
</pre>
<p>Several observations show uhrsworkorg (usual hours worked) coded as
999, indicating missing or non-applicable values. The distribution of
education levels ranges from high school to advanced degrees, and union
membership varies across jobs.</p>
<hr />
<h3 id="tabulating-categorical-variables">Tabulating categorical
variables</h3>
<p>We’ll tabulate categorical variables with fewer than 50 categories:
asecflag, labforce, eligorg, month, mish, region, sex, race, empstat,
classwkr, educ, qearnwee, paidhour, and union. The variables, occ1950
(occupation, 1950 basis) and ind1950 (industry, 1950 basis) have more
than 50 categories, so we’ll exclude them from this tabulation.</p>
<pre class='stata'>. tab1 asecflag labforce eligorg month mish region sex race empstat ///
> classwkr educ qearnwee paidhour union

-> tabulation of asecflag  

   flag for │
       asec │      Freq.     Percent        Cum.
────────────┼───────────────────────────────────
march basic │    556,770      100.00      100.00
────────────┼───────────────────────────────────
      Total │    556,770      100.00

-> tabulation of labforce  

        labor force status │      Freq.     Percent        Cum.
───────────────────────────┼───────────────────────────────────
   yes, in the labor force │  6,738,088      100.00      100.00
───────────────────────────┼───────────────────────────────────
                     Total │  6,738,088      100.00

-> tabulation of eligorg  

  (earnings) │
 eligibility │
        flag │      Freq.     Percent        Cum.
─────────────┼───────────────────────────────────
    eligible │  6,738,088      100.00      100.00
─────────────┼───────────────────────────────────
       Total │  6,738,088      100.00

-> tabulation of month  

      month │      Freq.     Percent        Cum.
────────────┼───────────────────────────────────
    january │    561,813        8.34        8.34
   february │    562,574        8.35       16.69
      march │    556,770        8.26       24.95
      april │    558,305        8.29       33.24
        may │    556,183        8.25       41.49
       june │    563,170        8.36       49.85
       july │    564,437        8.38       58.23
     august │    563,558        8.36       66.59
  september │    562,063        8.34       74.93
    october │    568,838        8.44       83.37
   november │    566,649        8.41       91.78
   december │    553,728        8.22      100.00
────────────┼───────────────────────────────────
      Total │  6,738,088      100.00

-> tabulation of mish  

   month in │
    sample, │
  household │
      level │      Freq.     Percent        Cum.
────────────┼───────────────────────────────────
       four │  3,363,104       49.91       49.91
      eight │  3,374,984       50.09      100.00
────────────┼───────────────────────────────────
      Total │  6,738,088      100.00

-> tabulation of region  

        region and division │      Freq.     Percent        Cum.
────────────────────────────┼───────────────────────────────────
       new england division │    627,985        9.32        9.32
   middle atlantic division │    791,935       11.75       21.07
east north central division │    911,521       13.53       34.60
west north central division │    701,947       10.42       45.02
    south atlantic division │  1,162,911       17.26       62.28
east south central division │    346,550        5.14       67.42
west south central division │    589,807        8.75       76.17
          mountain division │    710,165       10.54       86.71
           pacific division │    895,267       13.29      100.00
────────────────────────────┼───────────────────────────────────
                      Total │  6,738,088      100.00

-> tabulation of sex  

        sex │      Freq.     Percent        Cum.
────────────┼───────────────────────────────────
       male │  3,451,312       51.22       51.22
     female │  3,286,776       48.78      100.00
────────────┼───────────────────────────────────
      Total │  6,738,088      100.00

-> tabulation of race  

                                   race │      Freq.     Percent        Cum.
────────────────────────────────────────┼───────────────────────────────────
                                  white │  5,669,362       84.14       84.14
                                  black │    647,759        9.61       93.75
           american indian/aleut/eskimo │     56,015        0.83       94.58
              asian or pacific islander │     80,330        1.19       95.78
                             asian only │    168,441        2.50       98.28
         hawaiian/pacific islander only │     14,635        0.22       98.49
             other (single) race, n.e.c │     45,931        0.68       99.17
                            white-black │     11,088        0.16       99.34
                  white-american indian │     20,999        0.31       99.65
                            white-asian │      9,442        0.14       99.79
        white-hawaiian/pacific islander │      2,740        0.04       99.83
                  black-american indian │      2,492        0.04       99.87
                            black-asian │        758        0.01       99.88
        black-hawaiian/pacific islander │        208        0.00       99.88
                  american indian-asian │        190        0.00       99.89
        asian-hawaiian/pacific islander │      2,667        0.04       99.93
            white-black-american indian │      1,528        0.02       99.95
                      white-black-asian │        213        0.00       99.95
            white-american indian-asian │        252        0.00       99.95
  white-asian-hawaiian/pacific islander │      2,209        0.03       99.99
      white-black-american indian-asian │         74        0.00       99.99
american indian-hawaiian/pacific island │         50        0.00       99.99
 white-black--hawaiian/pacific islander │         50        0.00       99.99
white-american indian-hawaiian/pacific  │         77        0.00       99.99
            black-american indian-asian │         22        0.00       99.99
white-american indian-asian-hawaiian/pa │         17        0.00       99.99
        two or three races, unspecified │        356        0.01      100.00
        four or five races, unspecified │        183        0.00      100.00
────────────────────────────────────────┼───────────────────────────────────
                                  Total │  6,738,088      100.00

-> tabulation of empstat  

             employment status │      Freq.     Percent        Cum.
───────────────────────────────┼───────────────────────────────────
                       at work │  6,457,461       95.84       95.84
has job, not at work last week │    280,627        4.16      100.00
───────────────────────────────┼───────────────────────────────────
                         Total │  6,738,088      100.00

-> tabulation of classwkr  

                class of worker │      Freq.     Percent        Cum.
────────────────────────────────┼───────────────────────────────────
self-employed, not incorporated │          2        0.00        0.00
           wage/salary, private │  1,656,623       24.59       24.59
            private, for profit │  3,572,985       53.03       77.61
             private, nonprofit │    335,125        4.97       82.59
        wage/salary, government │     31,948        0.47       83.06
    federal government employee │    220,507        3.27       86.33
      state government employee │    346,419        5.14       91.47
      local government employee │    574,479        8.53      100.00
────────────────────────────────┼───────────────────────────────────
                          Total │  6,738,088      100.00

-> tabulation of educ  

          educational attainment recode │      Freq.     Percent        Cum.
────────────────────────────────────────┼───────────────────────────────────
                      none or preschool │     11,922        0.18        0.18
                   grades 1, 2, 3, or 4 │     21,107        0.31        0.49
                                grade 1 │        827        0.01        0.50
                                grade 2 │      2,023        0.03        0.53
                                grade 3 │      3,228        0.05        0.58
                                grade 4 │      4,010        0.06        0.64
                          grades 5 or 6 │     49,851        0.74        1.38
                                grade 5 │      5,261        0.08        1.46
                                grade 6 │     13,252        0.20        1.65
                          grades 7 or 8 │     50,759        0.75        2.41
                                grade 7 │     11,324        0.17        2.58
                                grade 8 │     37,861        0.56        3.14
                                grade 9 │     94,694        1.41        4.54
                               grade 10 │    129,426        1.92        6.46
                               grade 11 │    172,375        2.56        9.02
                 12th grade, no diploma │     54,751        0.81        9.83
            12th grade, diploma unclear │    642,040        9.53       19.36
      high school diploma or equivalent │  1,565,921       23.24       42.60
                      1 year of college │    134,820        2.00       44.60
             some college but no degree │    977,528       14.51       59.11
                     2 years of college │    168,063        2.49       61.61
associate's degree, occupational/vocati │    247,796        3.68       65.28
   associate's degree, academic program │    262,290        3.89       69.18
                     3 years of college │     63,319        0.94       70.12
                     4 years of college │    229,636        3.41       73.52
                      bachelor's degree │  1,072,281       15.91       89.44
                     5 years of college │     45,334        0.67       90.11
                    6+ years of college │    110,245        1.64       91.75
                        master's degree │    412,572        6.12       97.87
             professional school degree │     69,368        1.03       98.90
                       doctorate degree │     74,204        1.10      100.00
────────────────────────────────────────┼───────────────────────────────────
                                  Total │  6,738,088      100.00

-> tabulation of qearnwee  

 data quality │
     flag for │
     earnweek │      Freq.     Percent        Cum.
──────────────┼───────────────────────────────────
not allocated │  3,022,965       68.12       68.12
    allocated │  1,414,965       31.88      100.00
──────────────┼───────────────────────────────────
        Total │  4,437,930      100.00

-> tabulation of paidhour  

paid by the │
       hour │      Freq.     Percent        Cum.
────────────┼───────────────────────────────────
         no │  2,778,301       41.23       41.23
        yes │  3,959,787       58.77      100.00
────────────┼───────────────────────────────────
      Total │  6,738,088      100.00

-> tabulation of union  

                 union membership │      Freq.     Percent        Cum.
──────────────────────────────────┼───────────────────────────────────
                              niu │         53        0.00        0.00
                no union coverage │  5,504,648       84.46       84.46
            member of labor union │    902,837       13.85       98.31
covered by union but not a member │    109,852        1.69      100.00
──────────────────────────────────┼───────────────────────────────────
                            Total │  6,517,390      100.00
</pre>
<p>Note that three variables—asecflag, labforce, and eligorg—have only
one category across all observations. Since these variables do not vary,
we should drop them to simplify the data:</p>
<pre class='stata'>. drop asecflag labforce eligorg
</pre>
<hr />
<h4 id="twoway-tabulations-to-identify-coding-changes-in-race">Twoway
Tabulations to Identify Coding Changes in race</h4>
<p>The majority of observations in the race variable are either white or
black, accounting for 93.75% of the data. The remaining 6.25% are
distributed across 26 other categories. It’s possible the only options
available initially were which or black, with additional categories
introduced over time.</p>
<p>Looking at a snapshot of years from 1982–2002, we can see a coding
change coming into effect in 1989 with the addition of American Indian
(300) and Asian or Pacific Islander (650) categories:</p>
<pre class='stata'>. tabulate year race if year &lt;= 2002, missing

    survey │                          race
      year │     white      black  american   asian or   other (si │     Total
───────────┼───────────────────────────────────────────────────────┼──────────
      1982 │   146,627     14,669          0          0      5,354 │   166,650 
      1983 │   145,099     14,722          0          0      5,354 │   165,175 
      1984 │   147,612     15,322          0          0      5,517 │   168,451 
      1985 │   150,014     16,027          0          0      5,573 │   171,614 
      1986 │   148,277     16,274          0          0      5,715 │   170,266 
      1987 │   148,758     16,685          0          0      5,804 │   171,247 
      1988 │   142,956     15,764          0          0      5,454 │   164,174 
      1989 │   145,665     15,917      1,274      4,420        336 │   167,612 
      1990 │   152,628     16,739      1,331      5,130        427 │   176,255 
      1991 │   148,002     16,077      1,375      5,303        539 │   171,296 
      1992 │   145,775     15,758      1,403      5,414        610 │   168,960 
      1993 │   142,959     15,843      1,539      5,551        822 │   166,714 
      1994 │   138,455     15,509      1,525      5,464      1,792 │   162,745 
      1995 │   136,838     15,731      1,463      5,595      2,634 │   162,261 
      1996 │   123,995     13,979      1,531      5,298          0 │   144,803 
      1997 │   125,932     14,384      1,635      5,589          0 │   147,540 
      1998 │   126,956     14,662      1,720      5,940          0 │   149,278 
      1999 │   128,952     14,992      1,641      5,886          0 │   151,471 
      2000 │   129,688     15,324      1,783      6,280          0 │   153,075 
      2001 │   142,204     16,483      2,039      7,125          0 │   167,851 
      2002 │   148,990     16,602      2,111      7,335          0 │   175,038 
───────────┼───────────────────────────────────────────────────────┼──────────
     Total │ 2,966,382    327,463     22,370     80,330     45,931 │ 3,442,476 
</pre>
<p>Another coding change occurs in 2003, splitting Asian or Pacific
Islander (650) into two distinct categories: Asian only (651) and
Hawaiian/Pacific Islander only (652):</p>
<pre class='stata'>. numlabel RACE, add

. tabulate year race  if inlist(race, 300, 650, 651, 652)

    survey │                    race
      year │ 300. amer  650. asia  651. asia  652. hawa │     Total
───────────┼────────────────────────────────────────────┼──────────
      1989 │     1,274      4,420          0          0 │     5,694 
      1990 │     1,331      5,130          0          0 │     6,461 
      1991 │     1,375      5,303          0          0 │     6,678 
      1992 │     1,403      5,414          0          0 │     6,817 
      1993 │     1,539      5,551          0          0 │     7,090 
      1994 │     1,525      5,464          0          0 │     6,989 
      1995 │     1,463      5,595          0          0 │     7,058 
      1996 │     1,531      5,298          0          0 │     6,829 
      1997 │     1,635      5,589          0          0 │     7,224 
      1998 │     1,720      5,940          0          0 │     7,660 
      1999 │     1,641      5,886          0          0 │     7,527 
      2000 │     1,783      6,280          0          0 │     8,063 
      2001 │     2,039      7,125          0          0 │     9,164 
      2002 │     2,111      7,335          0          0 │     9,446 
      2003 │     1,595          0      6,149        562 │     8,306 
      2004 │     1,764          0      6,269        608 │     8,641 
      2005 │     1,643          0      6,616        605 │     8,864 
      2006 │     1,549          0      6,917        648 │     9,114 
      2007 │     1,610          0      7,078        706 │     9,394 
      2008 │     1,606          0      7,330        706 │     9,642 
      2009 │     1,428          0      7,318        700 │     9,446 
      2010 │     1,393          0      7,449        661 │     9,503 
      2011 │     1,418          0      7,779        672 │     9,869 
      2012 │     1,453          0      8,128        687 │    10,268 
      2013 │     1,433          0      8,283        753 │    10,469 
      2014 │     1,482          0      8,338        691 │    10,511 
      2015 │     1,744          0      8,352        791 │    10,887 
      2016 │     1,843          0      8,612        832 │    11,287 
      2017 │     1,736          0      8,806        713 │    11,255 
      2018 │     1,660          0      8,735        684 │    11,079 
      2019 │     1,620          0      8,494        683 │    10,797 
      2020 │     1,381          0      7,360        564 │     9,305 
      2021 │     1,401          0      7,812        589 │     9,802 
      2022 │     1,364          0      7,822        672 │     9,858 
      2023 │     1,328          0      7,558        598 │     9,484 
      2024 │     1,194          0      7,236        510 │     8,940 
───────────┼────────────────────────────────────────────┼──────────
     Total │    56,015     80,330    168,441     14,635 │   319,421 
</pre>
<hr />
<h3
id="compressing-and-saving-the-data-for-further-analysis">Compressing
and Saving the data for further analysis</h3>
<p>The final dataset is compressed to minimize file size and saved as
CPS_ORGs_1982-2024.dta in the Data folder.</p>
<pre class='stata'>. describe

Contains data from ../Data/cps_00003.dta
 Observations:     6,738,088                  
    Variables:            29                  03 JAN 2025 16:42
─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
Variable      Storage   Display    Value
    name         type    format    label      Variable label
─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
year            int     %8.0g                 survey year
serial          long    %12.0g                household serial number
month           byte    %8.0g      MONTH      month
hwtfinl         double  %12.0g                household weight, basic monthly
cpsid           double  %12.0g                cpsid, household record
mish            byte    %8.0g      MISH       month in sample, household level
region          byte    %8.0g      REGION     region and division
pernum          byte    %8.0g                 person number in sample unit
wtfinl          double  %12.0g                final basic weight
cpsidv          double  %12.0g                validated longitudinal identifier
cpsidp          double  %12.0g                cpsid, person record
earnweek2       double  %12.0g     EARNWEEK2
                                              weekly earnings (rounded)
hourwage2       double  %12.0g     HOURWAGE2
                                              hourly wage (rounded)
age             byte    %8.0g      AGE        age
sex             byte    %8.0g      SEX        sex
race            int     %58.0g     RACE       race
empstat         byte    %8.0g      EMPSTAT    employment status
occ1950         int     %8.0g      OCC1950    occupation, 1950 basis
ind1950         int     %8.0g      IND1950    industry, 1950 basis
classwkr        byte    %8.0g      CLASSWKR   class of worker
uhrswork1       int     %8.0g      UHRSWORK1
                                              hours usually worked per week at main job
educ            int     %8.0g      EDUC       educational attainment recode
earnwt          double  %12.0g                earnings weight
qearnwee        byte    %8.0g      QEARNWEE   data quality flag for earnweek
hourwage        double  %12.0g     HOURWAGE   hourly wage
paidhour        byte    %8.0g      PAIDHOUR   paid by the hour
union           byte    %8.0g      UNION      union membership
earnweek        double  %12.0g     EARNWEEK   weekly earnings
uhrsworkorg     int     %8.0g                 usual hours worked per week, outgoing rotation groups
─────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────
Sorted by: 
     Note: Dataset has changed since last saved.
</pre>
<p>We now have 6,738,088 observations across 29 variables, with summary
statistics as follows:</p>
<pre class='stata'>. summarize 

    Variable │        Obs        Mean    Std. dev.       Min        Max
─────────────┼─────────────────────────────────────────────────────────
        year │  6,738,088    2002.068    12.10799       1982       2024
      serial │  6,738,088    34874.83    20278.18          1      74625
       month │  6,738,088    6.505521    3.450084          1         12
     hwtfinl │  5,560,511    2223.566    1277.181          0   34716.21
       cpsid │  6,738,088    2.00e+13    1.21e+11   1.98e+13   2.02e+13
─────────────┼─────────────────────────────────────────────────────────
        mish │  6,738,088    6.003526    1.999997          4          8
      region │  6,738,088    27.35454    10.74259         11         42
      pernum │  6,738,088    1.679193    .9420621          1         22
      wtfinl │  6,738,088    2164.166    1271.501      22.24   34716.21
      cpsidv │  6,738,088    2.00e+14    1.21e+12   1.98e+14   2.02e+14
─────────────┼─────────────────────────────────────────────────────────
      cpsidp │  6,738,088    2.00e+13    1.21e+11   1.98e+13   2.02e+13
   earnweek2 │  6,738,088    1958.853    35654.57          0    1000000
   hourwage2 │  6,738,088    420.1412    485.9802        .05     999.99
         age │  6,738,088    39.04488    12.23483         18         64
         sex │  6,738,088    1.487791    .4998509          1          2
─────────────┼─────────────────────────────────────────────────────────
        race │  6,738,088    142.7038    133.6738        100        830
     empstat │  6,738,088     10.0833    .3995664         10         12
     occ1950 │  6,738,088    421.1817    267.7166          0        970
     ind1950 │  6,738,088    676.7314     222.289        105        936
    classwkr │  6,738,088    22.68014    2.121586         13         28
─────────────┼─────────────────────────────────────────────────────────
   uhrswork1 │  6,738,088    78.16546     189.717          0        997
        educ │  6,738,088    86.05168    23.06105          2        125
      earnwt │  6,738,088    8652.169    5093.023      90.01   209103.1
    qearnwee │  4,437,930    1.275338    1.864099          0          4
    hourwage │  6,545,976    418.8949     485.937        .01     999.99
─────────────┼─────────────────────────────────────────────────────────
    paidhour │  6,738,088    1.587672    .4922536          1          2
       union │  6,517,390     1.17223     .419873          0          3
    earnweek │  6,545,976    676.4486    646.6187        .01    9999.99
 uhrsworkorg │  5,560,511    494.6838    480.6063          1        999
</pre>
<hr />
</body>
</html>
